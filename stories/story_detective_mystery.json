{
  "id": "detective_mystery",
  "title": "Detective Alex and the Missing Cookie",
  "start": "school_cafeteria",
  "has_inventory": true,
  "initial_inventory": [
    {
      "id": "notebook",
      "name": "Detective Notebook",
      "icon": ""
    }
  ],
  "nodes": {
    "school_cafeteria": {
      "text": "Detective Alex, there's been a mystery at Sunny Elementary School! Mrs. Baker's special chocolate chip cookies for the school party have disappeared! You need to find the missing cookies before the party starts.",
      "choices": [
        {
          "text": "Interview Mrs. Baker",
          "next": "interview_baker"
        },
        {
          "text": "Look for clues in the kitchen",
          "next": "kitchen_investigation"
        },
        {
          "text": "Check the playground",
          "next": "playground"
        }
      ]
    },
    "interview_baker": {
      "text": "Mrs. Baker tells you she left the cookies cooling on the counter this morning. When she returned from her break, they were gone! She mentions seeing three students near the kitchen: Tommy, Sarah, and Luis.",
      "choices": [
        {
          "text": "Write down the suspects in your notebook",
          "next": "record_suspects",
          "required_item": "notebook"
        },
        {
          "text": "Ask about the kitchen security",
          "next": "kitchen_security"
        },
        {
          "text": "Go investigate the kitchen",
          "next": "kitchen_investigation"
        }
      ]
    },
    "record_suspects": {
      "text": "You carefully write down all the information in your detective notebook. This will help you remember important clues!",
      "gives_item": "suspect_list",
      "choices": [
        {
          "text": "Go find Tommy",
          "next": "find_tommy"
        },
        {
          "text": "Go find Sarah",
          "next": "find_sarah"
        },
        {
          "text": "Go find Luis",
          "next": "find_luis"
        }
      ]
    },
    "kitchen_security": {
      "text": "Mrs. Baker mentions that the kitchen door was left unlocked during break time, and anyone could have entered.",
      "choices": [
        {
          "text": "Investigate the kitchen for clues",
          "next": "kitchen_investigation"
        },
        {
          "text": "Ask who else was around",
          "next": "other_witnesses"
        }
      ]
    },
    "kitchen_investigation": {
      "text": "In the kitchen, you find chocolate chip crumbs leading from the counter to the window. There's also a small piece of red fabric caught on the window latch!",
      "gives_item": "red_fabric",
      "choices": [
        {
          "text": "Follow the crumb trail",
          "next": "follow_crumbs"
        },
        {
          "text": "Record the fabric clue",
          "next": "record_fabric",
          "required_item": "notebook"
        },
        {
          "text": "Check who wears red clothes",
          "next": "red_clothes_check"
        }
      ]
    },
    "record_fabric": {
      "text": "You carefully tape the red fabric into your notebook and write notes about where you found it. Good detective work!",
      "choices": [
        {
          "text": "Follow the crumb trail",
          "next": "follow_crumbs"
        },
        {
          "text": "Look for students wearing red",
          "next": "red_clothes_check"
        }
      ]
    },
    "follow_crumbs": {
      "text": "The crumb trail leads outside to a big oak tree in the schoolyard. Under the tree, you find an empty cookie box!",
      "gives_item": "empty_box",
      "choices": [
        {
          "text": "Examine the box for fingerprints",
          "next": "fingerprint_check"
        },
        {
          "text": "Look around the tree area",
          "next": "tree_area_search"
        }
      ]
    },
    "red_clothes_check": {
      "text": "You remember that Sarah was wearing a red sweater today! This could be an important clue.",
      "choices": [
        {
          "text": "Go find Sarah immediately",
          "next": "find_sarah"
        },
        {
          "text": "Gather more evidence first",
          "next": "follow_crumbs"
        }
      ]
    },
    "find_tommy": {
      "text": "You find Tommy in the library reading a book about dinosaurs. His hands are clean and he seems genuinely surprised about the missing cookies.",
      "choices": [
        {
          "text": "Ask Tommy about his morning",
          "next": "tommy_alibi"
        },
        {
          "text": "Check your suspect list",
          "next": "review_suspects",
          "required_item": "suspect_list"
        },
        {
          "text": "Go find Sarah",
          "next": "find_sarah"
        }
      ]
    },
    "tommy_alibi": {
      "text": "Tommy says he was in the library all morning helping the librarian organize books. The librarian confirms his story. Tommy is innocent!",
      "choices": [
        {
          "text": "Cross Tommy off your list",
          "next": "eliminate_tommy",
          "required_item": "suspect_list"
        },
        {
          "text": "Continue investigating others",
          "next": "find_sarah"
        }
      ]
    },
    "find_sarah": {
      "text": "You find Sarah in the art room painting a beautiful landscape. She's wearing a red sweater, but it doesn't seem to have any tears.",
      "choices": [
        {
          "text": "Ask Sarah about the cookies",
          "next": "sarah_interview"
        },
        {
          "text": "Compare her sweater to the fabric",
          "next": "fabric_comparison",
          "required_item": "red_fabric"
        },
        {
          "text": "Look for cookie crumbs",
          "next": "sarah_crumb_check"
        }
      ]
    },
    "sarah_interview": {
      "text": "Sarah says she went to the kitchen to get water for her paint brushes, but she didn't see any cookies. She seems to be telling the truth.",
      "choices": [
        {
          "text": "Check if her sweater has tears",
          "next": "fabric_comparison",
          "required_item": "red_fabric"
        },
        {
          "text": "Go find Luis",
          "next": "find_luis"
        }
      ]
    },
    "fabric_comparison": {
      "text": "You compare the red fabric to Sarah's sweater. It doesn't match! The fabric is a different shade of red and texture. Sarah is innocent!",
      "choices": [
        {
          "text": "Cross Sarah off your list",
          "next": "eliminate_sarah",
          "required_item": "suspect_list"
        },
        {
          "text": "Go find Luis",
          "next": "find_luis"
        }
      ]
    },
    "find_luis": {
      "text": "You find Luis in the gymnasium. He's wearing a red jersey and looks a bit nervous when he sees you approaching.",
      "choices": [
        {
          "text": "Ask Luis about his morning",
          "next": "luis_interview"
        },
        {
          "text": "Check his jersey for tears",
          "next": "luis_fabric_check",
          "required_item": "red_fabric"
        },
        {
          "text": "Look for evidence on him",
          "next": "luis_evidence_check"
        }
      ]
    },
    "luis_interview": {
      "text": "Luis nervously says he was playing basketball all morning, but you notice he keeps looking toward the oak tree outside.",
      "choices": [
        {
          "text": "Ask about the oak tree",
          "next": "luis_tree_question"
        },
        {
          "text": "Check his jersey",
          "next": "luis_fabric_check",
          "required_item": "red_fabric"
        }
      ]
    },
    "luis_fabric_check": {
      "text": "You compare the red fabric to Luis's jersey. It's a perfect match! There's a small tear right where the fabric could have come from!",
      "choices": [
        {
          "text": "Confront Luis with the evidence",
          "next": "confront_luis"
        },
        {
          "text": "Look for more evidence first",
          "next": "luis_evidence_check"
        }
      ]
    },
    "luis_evidence_check": {
      "text": "You notice chocolate chip crumbs on Luis's shoes and a suspicious bulge in his backpack!",
      "choices": [
        {
          "text": "Ask to see his backpack",
          "next": "backpack_check"
        },
        {
          "text": "Point out the crumbs",
          "next": "crumb_evidence"
        }
      ]
    },
    "luis_tree_question": {
      "text": "When you mention the oak tree, Luis's face turns red and he starts stammering. He's definitely hiding something!",
      "choices": [
        {
          "text": "Show him the empty box",
          "next": "show_box_evidence",
          "required_item": "empty_box"
        },
        {
          "text": "Ask him directly about the cookies",
          "next": "direct_accusation"
        }
      ]
    },
    "confront_luis": {
      "text": "When you show Luis the fabric evidence, he breaks down and admits everything! He took the cookies but feels terrible about it.",
      "choices": [
        {
          "text": "Ask why he took them",
          "next": "luis_explanation"
        },
        {
          "text": "Help him make things right",
          "next": "help_luis"
        }
      ]
    },
    "backpack_check": {
      "text": "Luis reluctantly opens his backpack and reveals... the missing cookies! He's been caught red-handed!",
      "choices": [
        {
          "text": "Ask why he took them",
          "next": "luis_explanation"
        }
      ]
    },
    "show_box_evidence": {
      "text": "When you show Luis the empty cookie box, he realizes you've solved the case. He admits he took the cookies and hid under the oak tree to eat them.",
      "choices": [
        {
          "text": "Ask why he did it",
          "next": "luis_explanation"
        }
      ]
    },
    "luis_explanation": {
      "text": "Luis explains that he forgot to bring lunch money and was really hungry. He feels awful about taking the cookies meant for everyone and promises to never do it again.",
      "choices": [
        {
          "text": "Help him solve his lunch problem",
          "next": "help_luis"
        },
        {
          "text": "Take him to Mrs. Baker",
          "next": "return_to_baker"
        }
      ]
    },
    "help_luis": {
      "text": "You decide to help Luis instead of just getting him in trouble. Together, you go to Mrs. Baker to apologize and find a solution.",
      "choices": [
        {
          "text": "Go to Mrs. Baker together",
          "next": "return_to_baker"
        }
      ]
    },
    "return_to_baker": {
      "text": "Mrs. Baker is understanding when Luis apologizes. She offers to let him help bake new cookies for the party, and arranges for him to get free lunch when he needs it.",
      "choices": [
        {
          "text": "Help bake new cookies",
          "next": "baking_together"
        }
      ]
    },
    "baking_together": {
      "text": "You, Luis, and Mrs. Baker work together to bake even better cookies for the party! Luis learns about responsibility and you learn that helping others is the best part of being a detective.",
      "choices": [
        {
          "text": "Enjoy the party with new cookies",
          "next": "happy_ending"
        }
      ]
    },
    "playground": {
      "text": "At the playground, you ask other students if they saw anything suspicious. A first-grader named Emma says she saw someone eating cookies under the big oak tree!",
      "choices": [
        {
          "text": "Go to the oak tree",
          "next": "tree_area_search"
        },
        {
          "text": "Ask Emma for more details",
          "next": "emma_witness"
        }
      ]
    },
    "tree_area_search": {
      "text": "Under the oak tree, you find cookie crumbs and an empty box. Someone definitely ate the cookies here recently!",
      "gives_item": "empty_box",
      "choices": [
        {
          "text": "Look for more clues",
          "next": "fingerprint_check"
        },
        {
          "text": "Ask around about who uses this spot",
          "next": "tree_users"
        }
      ]
    },
    "emma_witness": {
      "text": "Emma describes seeing a student in red clothes eating something under the tree during morning break. This is a great lead!",
      "choices": [
        {
          "text": "Go investigate the tree",
          "next": "tree_area_search"
        },
        {
          "text": "Look for students in red",
          "next": "red_clothes_check"
        }
      ]
    },
    "fingerprint_check": {
      "text": "You dust the cookie box for fingerprints and find clear prints! Now you need to match them to a suspect.",
      "gives_item": "fingerprints",
      "choices": [
        {
          "text": "Compare with your suspects",
          "next": "fingerprint_matching",
          "required_item": "suspect_list"
        },
        {
          "text": "Get fingerprints from all students",
          "next": "collect_fingerprints"
        }
      ]
    },
    "fingerprint_matching": {
      "text": "Using your detective skills, you match the fingerprints to Luis! Combined with all your other evidence, you've solved the case!",
      "choices": [
        {
          "text": "Go find Luis",
          "next": "find_luis"
        }
      ]
    },
    "review_suspects": {
      "text": "You review your suspect list and all the clues you've gathered. The evidence is pointing toward one person...",
      "choices": [
        {
          "text": "Focus on the red fabric clue",
          "next": "red_clothes_check",
          "required_item": "red_fabric"
        },
        {
          "text": "Continue interviewing suspects",
          "next": "find_sarah"
        }
      ]
    },
    "eliminate_tommy": {
      "text": "You cross Tommy off your suspect list. His alibi is solid. That leaves Sarah and Luis to investigate.",
      "choices": [
        {
          "text": "Go find Sarah",
          "next": "find_sarah"
        },
        {
          "text": "Go find Luis",
          "next": "find_luis"
        }
      ]
    },
    "eliminate_sarah": {
      "text": "You cross Sarah off your suspect list. The fabric evidence clears her. That means Luis must be involved!",
      "choices": [
        {
          "text": "Go find Luis",
          "next": "find_luis"
        }
      ]
    },
    "other_witnesses": {
      "text": "Mrs. Baker mentions that the janitor, Mr. Clean, was also around that morning. Maybe he saw something!",
      "choices": [
        {
          "text": "Go find Mr. Clean",
          "next": "find_janitor"
        },
        {
          "text": "Continue investigating the students",
          "next": "find_tommy"
        }
      ]
    },
    "find_janitor": {
      "text": "Mr. Clean tells you he saw a student in a red jersey climbing through the kitchen window around break time. He thought it was strange but didn't want to accuse anyone.",
      "choices": [
        {
          "text": "Ask about the red jersey",
          "next": "jersey_clue"
        },
        {
          "text": "Thank him and find Luis",
          "next": "find_luis"
        }
      ]
    },
    "jersey_clue": {
      "text": "Mr. Clean describes the jersey in detail - it matches exactly what Luis wears for basketball! You now have a strong suspect to investigate.",
      "choices": [
        {
          "text": "Go find Luis immediately",
          "next": "find_luis"
        }
      ]
    },
    "tree_users": {
      "text": "You learn that Luis often sits under the oak tree to eat his lunch. This gives you another clue pointing toward him!",
      "choices": [
        {
          "text": "Go find Luis",
          "next": "find_luis"
        }
      ]
    },
    "collect_fingerprints": {
      "text": "You collect fingerprints from various students and compare them to the box. Luis's prints are a perfect match!",
      "choices": [
        {
          "text": "Confront Luis with evidence",
          "next": "find_luis"
        }
      ]
    },
    "sarah_crumb_check": {
      "text": "You don't find any cookie crumbs on Sarah or around her area. Her painting supplies are clean too. She seems innocent.",
      "choices": [
        {
          "text": "Continue investigating Luis",
          "next": "find_luis"
        }
      ]
    },
    "crumb_evidence": {
      "text": "When you point out the chocolate crumbs on Luis's shoes, he realizes he's been caught. He admits to taking the cookies.",
      "choices": [
        {
          "text": "Ask why he did it",
          "next": "luis_explanation"
        }
      ]
    },
    "direct_accusation": {
      "text": "When you ask Luis directly about the cookies, he breaks down and confesses. He took them because he was hungry and forgot his lunch money.",
      "choices": [
        {
          "text": "Help him make it right",
          "next": "help_luis"
        }
      ]
    },
    "happy_ending": {
      "text": "The school party is a huge success with the new cookies you all made together! Luis learns about asking for help when he needs it, and you solve your first big case as Detective Alex. Everyone celebrates your kindness and detective skills!",
      "end": true
    }
  }
}
